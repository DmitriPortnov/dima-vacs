{"version":3,"sources":["service/context.js","components/hoc/service-hoc.js","actions/userActions.js","actions/errorActions.js","components/login/login.js","components/sign-up/signUp.js","pages/homePage.js","actions/vacation.Action.js","components/navbar/navbar.js","actions/logoutAction.js","components/vacation-card/vacationCard.js","components/vacation-full-page/vacation-full.js","pages/vacationsPage.js","components/vacation-editor/vacationEditor.js","pages/adminPage.js","pages/chartsPage.js","components/app/app.js","reducer/user.js","reducer/vacations.js","reducer/errorHandler.js","reducer/likes.js","reducer/index.js","components/error-indicator/error-indicator.js","components/error-boundry/error-boundry.js","service/service.js","index.js"],"names":["React","createContext","ProviderVacation","Provider","ConsumerVacation","Consumer","ServiceHoc","Wrapped","props","vacationService","service","userData","user","type","payload","gotError","data","Login","state","username","password","this","error","expiredError","hasError","setTimeout","console","log","className","id","placeholder","value","onChange","target","setState","onKeyDown","event","key","login","message","onClick","to","loggedIn","then","catch","err","Component","connect","dispatch","ownProps","response","SignUp","firstname","lastname","required","registration","signUp","HomePage","isLoggedIn","isAdmin","prevProps","push","history","_id","permition","match","path","getVacations","vacations","Navbar","logout","nullUser","adminButtons","logoutBtn","chooseVacationID","chartBtn","adminBtn","secondFunction","userBtn","like","likes","find","vacId","vacation","VacationCard","imgUrl","src","alt","title","VacationDescription","closeDetailPage","image","description","VacationsPage","showVacationDetails","vacationID","getAllVacations","getImage","getUserLikes","userId","usersWatch","userLikes","i","vacationId","userWatchFunc","undefined","img","map","vac","idx","getVacationDetails","usersLikeFunc","vacs","VacationEditor","field","sendVacation","closePage","htmlFor","files","sendVac","vacationDetails","AdminPage","editor","deleteVacation","getVacationDetailsForChange","deleteVac","App","exact","component","ChartsPage","userReducer","action","vacationsReducer","errorReducer","likeReducer","initialState","Reducer","ErrorIndicator","ErrorBoundry","isError","children","PATH","axios","post","put","get","imgId","vacationData","vacData","FormData","config","append","headers","patch","delete","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.906c67d4.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst {\r\n    Provider: ProviderVacation,\r\n    Consumer: ConsumerVacation\r\n} = React.createContext();\r\n\r\nexport {\r\n    ProviderVacation,\r\n    ConsumerVacation\r\n}","import React from 'react';\r\nimport { ConsumerVacation } from '../../service/context';\r\n\r\nconst ServiceHoc = () => (Wrapped) => {\r\n    return (props) => {\r\n        return <ConsumerVacation>\r\n            {\r\n                (vacationService) => <Wrapped {...props} service={vacationService} />\r\n            }\r\n        </ConsumerVacation>\r\n    }\r\n}\r\n\r\nexport default ServiceHoc;","export const test = (user) => {\r\n    return {\r\n        type: 'TEST',\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const userData = (user) => {\r\n    return {\r\n        type: 'USER_DATA',\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const userLikes = (data) => {\r\n    return {\r\n        type: 'GET_LIKES',\r\n        payload: data\r\n    }\r\n}","export const gotError = (data) => {\r\n    return {\r\n        type: 'USER_ERROR',\r\n        payload: data\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './login.css';\r\n\r\nimport { userData } from '../../actions/userActions';\r\nimport { gotError } from '../../actions/errorActions';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { error, expiredError } = this.props;\r\n        if (error.hasError === true) {\r\n            setTimeout(() => expiredError(), 5000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        const { username, password } = this.state;\r\n        const { error } = this.props;\r\n        return <div className=\"log-template\">\r\n            <h2>Login</h2>\r\n            <div className=\"form\">\r\n                <input type=\"text\" id=\"username\" placeholder=\"username\"\r\n                value={username} onChange={({ target }) => this.setState({username: target.value})} />\r\n                <input type=\"password\" id=\"password\" placeholder=\"password\"\r\n                value={password} onChange={({ target }) => this.setState({password: target.value})} \r\n                onKeyDown={(event) => event.key === 'Enter' ? this.props.login({ username, password }) : null }/>\r\n                { error.hasError ? <p className=\"error-text\">{error.message}</p> : null}\r\n                <button onClick={() => this.props.login({ username, password })}>Submit</button>\r\n                <p>not regestered yet? --> <Link to=\"/sign-up\"><strong>sign up</strong></Link></p>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.service.loggedIn().then(({data}) => this.props.loggedIn(data))\r\n        .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { service: {login} } = ownProps;\r\n    return {\r\n        loggedIn: (user) => dispatch(userData(user)),\r\n        login: (user) => login(user).then(({data}) => {\r\n            dispatch(userData(data));\r\n        }).catch(({response: {data}}) => dispatch(gotError({\r\n            hasError: true, \r\n            message: data.message\r\n        }))),\r\n        expiredError: () => dispatch(gotError({\r\n            hasError: false, \r\n            message: ''\r\n        }))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './signUp.css';\r\n\r\nimport { userData } from '../../actions/userActions';\r\nimport { gotError } from '../../actions/errorActions';\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            firstname: '',\r\n            lastname: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { error, expiredError } = this.props;\r\n        if (error.hasError === true) {\r\n            setTimeout(() => expiredError(), 5000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log('signup', this.props);\r\n        const { error } = this.props;\r\n        const { username, firstname, lastname, password } = this.state;\r\n        return <div className=\"log-template\">\r\n            <h2>Sign Up</h2>\r\n            <div className=\"form\">\r\n                <input type=\"text\" value={firstname} onChange={({target}) => this.setState({firstname: target.value})}\r\n                placeholder=\"firstname\" required></input>\r\n                <input type=\"text\" value={lastname} onChange={({target}) => this.setState({lastname: target.value})}\r\n                placeholder=\"lastname\" required></input>\r\n                <input type=\"text\" value={username} onChange={({target}) => this.setState({username: target.value})}\r\n                placeholder=\"username\" required></input>\r\n                <input type=\"password\" value={password} onChange={({target}) => this.setState({password: target.value})}\r\n                onKeyDown={(event) => event.key === 'Enter' ? this.props.registration(this.state) : null }\r\n                placeholder=\"password\" required></input>\r\n                { error.hasError ? <p className=\"error-text\">{error.message}</p> : null}\r\n                <button onClick={() => this.props.registration(this.state)}>Submit</button>\r\n                <p>back to <Link to=\"/login\">Login</Link></p>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { service: { signUp } } = ownProps;\r\n    return {\r\n        registration: (user) => signUp(user).then(({data}) => dispatch(userData(data)))\r\n        .catch(({response: {data}}) => dispatch(gotError({\r\n            hasError: true, \r\n            message: data.message\r\n        }))),\r\n        expiredError: () => dispatch(gotError({\r\n            hasError: false, \r\n            message: ''\r\n        }))\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Login from '../components/login/login';\r\nimport SignUp from '../components/sign-up/signUp';\r\n\r\nclass HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            isAdmin: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { history: { push }} = this.props;\r\n        if (prevProps.user._id !== this.props.user._id || 0) {\r\n            if (this.props.user.permition === 1) {\r\n                return push('/editor')\r\n            } else {\r\n                return push('/vacations')\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"home-page\">\r\n            <h1>see your next vacation!!!</h1>\r\n            { this.props.match.path === '/sign-up' ? <SignUp {...this.props}/> : <Login {...this.props}/> }\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, null)(HomePage));","export const getVacations = (vacations) => {\r\n    return {\r\n        type: 'GET_ALL_VACATIONS',\r\n        payload: vacations\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './navbar.css';\r\n\r\nimport { logout } from '../../actions/logoutAction';\r\n\r\nclass Navbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isAdmin: false\r\n        }\r\n    }\r\n\r\n    logoutBtn() {\r\n        this.props.service.logout().then(() => {\r\n            this.props.nullUser();\r\n            this.props.history.push('/');\r\n        })\r\n    }\r\n\r\n    chartBtn() {\r\n        this.props.history.push('/charts');\r\n    }\r\n\r\n    render() {\r\n        console.log('navbar props', this.props);\r\n        console.log('navbar state', this.state);\r\n        const { firstname, lastname } = this.props.user;\r\n        return <nav>\r\n            <div className=\"nav-text\">\r\n                <h1>Vacations</h1>\r\n                <span>hello {firstname} {lastname}</span>\r\n            </div>\r\n            <div className=\"nav-buttons\">\r\n                { this.state.isAdmin ? this.adminButtons() : null }\r\n                <button className=\"logout-btn\" onClick={() => this.logoutBtn()}>\r\n                    <i className=\"material-icons\">power_settings_new</i>\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    }\r\n\r\n    adminButtons() {\r\n        return <Fragment>\r\n            <button className=\"add-btn\" onClick={() => this.props.chooseVacationID()}>\r\n                <i className=\"material-icons\">add</i>\r\n            </button>\r\n            <button className=\"charts-btn\" onClick={() => this.chartBtn()}>\r\n                <i className=\"material-icons\">bar_chart</i>\r\n            </button>\r\n        </Fragment>\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.user.permition >= 1) {\r\n            this.setState({\r\n                isAdmin: true\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        nullUser: () => dispatch(logout())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);","export const logout = () => {\r\n    return {\r\n        type: 'RESET_STATE'\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport './vacationCard.css';\r\n\r\nconst VacationCard = (props) => {\r\n    console.log('vacation card', props);\r\n    const { vacation, permition, imgUrl } = props;\r\n    return <div className=\"card\">\r\n        <img src={imgUrl} alt=\"vacation_pic\"/>\r\n        <div className=\"card-title\">\r\n        <span>{ vacation.title }</span>\r\n        </div>\r\n        <div className=\"card-btn\">\r\n            { permition === 1 ? adminBtn(props) : userBtn(props) }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst adminBtn = (props) => {\r\n    return <Fragment>\r\n        <button onClick={() => props.chooseVacationID()}>\r\n            <i className=\"material-icons\">edit</i>\r\n        </button>\r\n        <button className=\"like-btn\" onClick={() => props.secondFunction()}>\r\n            <i className=\"material-icons\">delete</i>\r\n        </button>\r\n    </Fragment>\r\n}\r\n\r\nconst userBtn = (props) => {\r\n    const like = props.likes.find(({vacId}) => vacId === props.vacation._id);\r\n    return <Fragment>\r\n        <button onClick={() => props.chooseVacationID()}>\r\n            <i className=\"material-icons\">info</i>\r\n        </button>\r\n        <button className={!!like ? \"like-btn liked\": \"like-btn\"} onClick={() => props.secondFunction()}>\r\n            <i className=\"material-icons\">favorite_border</i>\r\n        </button>\r\n    </Fragment>\r\n}\r\n\r\nexport default VacationCard;","import React from 'react';\r\nimport './vacation-full.css';\r\n\r\nconst VacationDescription = (props) => {\r\n    console.log('vacation full page', props);\r\n    const { vacation, closeDetailPage, imgUrl } = props;\r\n    return <div className=\"vacation-full-page\" onClick={() => closeDetailPage()}>\r\n        <div className=\"vacation-description\">\r\n            <div className=\"title-fullPage\">\r\n                <p>{ vacation.title }</p>\r\n                <button onClick={() => closeDetailPage()}>\r\n                    <i className=\"material-icons\">close</i>\r\n                </button>\r\n            </div>\r\n            <img src={imgUrl(vacation.image)} alt=\"vacation_pic\"/>\r\n            <div className=\"full-description\">\r\n                <p>{ vacation.description }</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default VacationDescription;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { userLikes } from '../actions/userActions';\r\nimport { getVacations } from '../actions/vacation.Action';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Navbar from '../components/navbar/navbar';\r\nimport VacationCard from '../components/vacation-card/vacationCard';\r\nimport VacationDescription from '../components/vacation-full-page/vacation-full';\r\n\r\nclass VacationsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showVacationDetails: false,\r\n            vacationID: ''\r\n        }\r\n    }\r\n\r\n    getAllVacations() {\r\n        const { service: {getAllVacations, getImage}, getVacations } = this.props;\r\n        getAllVacations().then(({data}) => {getVacations(data)})\r\n        .catch((err) => console.error(err));\r\n        this.getUserLikes(this.props.user._id);\r\n    }\r\n\r\n    getUserLikes(userId) {\r\n        this.props.service.usersWatch(userId).then(({data}) => {\r\n            this.props.userLikes(data);\r\n        });\r\n    }\r\n\r\n    getVacationDetails(i) {\r\n        this.setState({\r\n            showVacationDetails: true,\r\n            vacationID: i\r\n        });\r\n    }\r\n\r\n    closeDetailPage() {\r\n        this.setState({\r\n            showVacationDetails: false\r\n        });\r\n    }\r\n\r\n    usersLikeFunc(vacationId) {\r\n        const { user, likes, service: { userWatchFunc } } = this.props;\r\n        const like = likes.find(({vacId}) => vacationId === vacId);\r\n        userWatchFunc(user._id, vacationId, like).then(() => this.getUserLikes(user._id))\r\n        .catch((err) => console.log('likes error', err));\r\n    }\r\n\r\n    render() {\r\n        console.log('vacation page, props', this.props);\r\n        const { vacations, user: {permition}, likes, service: { getImage } } = this.props;\r\n        const { showVacationDetails, vacationID } = this.state;\r\n        if (vacations === null | undefined) {\r\n            return null;\r\n        }\r\n        return <div className=\"vacations-page\">\r\n            {showVacationDetails ? <VacationDescription vacation={vacations[vacationID]}\r\n            imgUrl={(img) => getImage(img)}\r\n            closeDetailPage={() => this.closeDetailPage()}/> : null}\r\n            <Navbar {...this.props}/>\r\n            <div className=\"vacations\">\r\n                {vacations.map((vac, idx) => <VacationCard vacation={vac} key={idx} permition={permition}\r\n                likes={likes}\r\n                imgUrl={getImage(vac.image)}\r\n                chooseVacationID={() => this.getVacationDetails(idx)}\r\n                secondFunction={() => this.usersLikeFunc(vac._id)}/>)}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllVacations();\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getVacations: (vacs) => dispatch(getVacations(vacs)),\r\n        userLikes: (likes) => dispatch(userLikes(likes))\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, mapDispatchToProps)(VacationsPage));","import React, { Component } from 'react';\r\nimport './vacationEditor.css';\r\n\r\nclass VacationEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            _id: 0,\r\n            title: '',\r\n            description: '',\r\n            image: ''\r\n        }\r\n    }\r\n\r\n    onChange(field, value) {\r\n        this.setState({\r\n            [field]: value\r\n        });\r\n    }\r\n\r\n    sendVac() {\r\n        this.props.service.sendVacation(this.state).then(() => {\r\n            this.props.closePage();\r\n        }).catch((err) => console.error(err));\r\n    }\r\n\r\n    render() {\r\n        console.log('full desc', this.props);\r\n        console.log('full desc', this.state);\r\n        const { title, description } = this.state;\r\n        return <div className=\"editor-page\">\r\n            <h2>vacation editor</h2>\r\n            <div className=\"vacation-editor\">\r\n                <input type=\"text\" placeholder=\"Title\" value={title} onChange={({target}) => this.onChange('title', target.value) }/>\r\n                <textarea placeholder=\"Description\" value={description} onChange={({target}) => this.onChange('description', target.value) }></textarea>\r\n                <label className=\"editor-file\" htmlFor=\"file-upload\">Choose your file</label>\r\n                <input id=\"file-upload\" type=\"file\" onChange={({target}) => this.onChange('image', target.files[0]) }></input>\r\n                <div className=\"btns\">\r\n                    <button className=\"submit-btn\" onClick={() => this.sendVac()}>submit</button>\r\n                    <button className=\"close-btn\" onClick={() => this.props.closePage()}>close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.vacationDetails === null) {\r\n            return null\r\n        }\r\n        const {_id, title, description, image} = this.props.vacationDetails;\r\n        this.setState({\r\n            _id,\r\n            title,\r\n            description,\r\n            image\r\n        });\r\n    }\r\n}\r\n\r\nexport default VacationEditor;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getVacations } from '../actions/vacation.Action';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Navbar from '../components/navbar/navbar';\r\nimport VacationEditor from '../components/vacation-editor/vacationEditor';\r\nimport VacationCard from '../components/vacation-card/vacationCard';\r\n\r\nclass AdminPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            vacationID: 0,\r\n            editor: false\r\n        }\r\n    }\r\n\r\n    getAllVacations() {\r\n        const { service: {getAllVacations}, getVacations } = this.props;\r\n        getAllVacations().then(({data}) => getVacations(data))\r\n        .catch((err) => console.error(err));\r\n    }\r\n\r\n    getVacationDetailsForChange() {\r\n        const { vacations } = this.props;\r\n        const { vacationID } = this.state;\r\n        return vacationID ? vacations[vacationID] : null;\r\n    }\r\n\r\n    getVacationDetails(i=null) {\r\n        this.setState({\r\n            editor: true,\r\n            vacationID: i,\r\n        });\r\n    }\r\n\r\n    closePage() {\r\n        this.getAllVacations();\r\n        this.setState({\r\n            editor: false\r\n        });\r\n    }\r\n\r\n    deleteVac(i) {\r\n        console.log(\"delete vac id\", this.props.vacations[i]._id);\r\n        const id = this.props.vacations[i]._id;\r\n        this.props.service.deleteVacation(id).then(() => {\r\n            this.getAllVacations();\r\n        }).catch((err) => console.error(err));\r\n    }\r\n\r\n    render() {\r\n        console.log('admin page props', this.props);\r\n        console.log('admin page state', this.state);\r\n        const { user: {permition}, likes, vacations, service } = this.props;\r\n        const {editor} = this.state;\r\n        return <div className=\"admin-page\">\r\n            {editor ? <VacationEditor service={service} closePage={() => this.closePage()} vacationDetails={this.getVacationDetailsForChange()}/> : null}\r\n            <Navbar {...this.props} chooseVacationID={() => this.getVacationDetails()}/>\r\n            <div className=\"vacations\">\r\n                {vacations.map((vac, idx) => <VacationCard vacation={vac} key={idx} permition={permition}\r\n                likes={likes} imgUrl={service.getImage(vac.image)}\r\n                chooseVacationID={() => this.getVacationDetails(idx)}\r\n                secondFunction={() => this.deleteVac(idx)}/>)}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllVacations();\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getVacations: (vacs) => dispatch(getVacations(vacs))\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, mapDispatchToProps)(AdminPage));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\n\r\nconst ChartsPage = (props) => {\r\n\r\n    return <div>\r\n        this page are not available right now\r\n    </div>\r\n}\r\n\r\nexport default ServiceHoc()(connect()(ChartsPage));","import React from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport './app.css';\r\n\r\nimport HomePage from '../../pages/homePage';\r\nimport VacationsPage from '../../pages/vacationsPage';\r\nimport AdminPage from '../../pages/adminPage';\r\nimport ChartsPage from '../../pages/chartsPage';\r\n \r\nconst App = () => {\r\n    \r\n    return <div className=\"main\">\r\n        <Switch>\r\n            <Route path='/' exact>\r\n                <Redirect to='/login'/>\r\n            </Route>\r\n            <Route path='/login' component={HomePage} />\r\n            <Route path='/sign-up' component={HomePage} />\r\n            <Route path='/vacations' component={VacationsPage}></Route>\r\n            <Route path='/editor' component={AdminPage}></Route>\r\n            <Route path='/charts' component={ChartsPage}></Route>\r\n        </Switch>\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default App;","const userReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'TEST':\r\n            return action.payload;\r\n        case 'USER_DATA':\r\n            return action.payload;\r\n        default:\r\n            return state.user;\r\n    }\r\n}\r\n\r\nexport default userReducer;","const vacationsReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'GET_ALL_VACATIONS':\r\n            return action.payload;\r\n        default:\r\n            return state.vacations;\r\n    }\r\n}\r\n\r\nexport default vacationsReducer;","const errorReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'USER_ERROR':\r\n            return action.payload;\r\n        default:\r\n            return state.error\r\n    }\r\n}\r\n\r\nexport default errorReducer;","const likeReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"GET_LIKES\":\r\n            return action.payload;\r\n        default:\r\n            return state.likes;\r\n    }\r\n}\r\n\r\nexport default likeReducer;","import userReducer from './user';\r\nimport vacationsReducer from './vacations';\r\nimport errorReducer from './errorHandler';\r\nimport likeReducer from './likes';\r\n\r\nconst initialState = {\r\n    user: {\r\n        _id: 0,\r\n        username: '',\r\n        firstname: 'guest',\r\n        lastname: '',\r\n        permition: 0\r\n    },\r\n    vacations: [\r\n        {\r\n            _id: 0,\r\n            title: '',\r\n            description: '',\r\n            image: ''\r\n        }\r\n    ],\r\n    error: {\r\n        hasError: false,\r\n        message: ''\r\n    },\r\n    likes: []\r\n}\r\n\r\nconst Reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'RESET_STATE':\r\n            return initialState\r\n        default:\r\n            return {\r\n                user: userReducer(state, action),\r\n                vacations: vacationsReducer(state, action),\r\n                error: errorReducer(state, action),\r\n                likes: likeReducer(state, action)\r\n            }\r\n    }\r\n}\r\n\r\nexport default Reducer;","import React from 'react';\r\n\r\nconst ErrorIndicator = () => {\r\n    return <div>\r\n        <h1>Error</h1>\r\n    </div>\r\n}\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator/error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isError: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return this.state.isError ? <ErrorIndicator/> : this.props.children;\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst PATH = 'http://localhost:3500';\r\n\r\nexport default class VacationService {\r\n    loggedIn() {\r\n        return axios.post(`${PATH}/user/loggedIn`);\r\n    }\r\n    \r\n    login(user) {\r\n        return axios.post(`${PATH}/user/login`, user);\r\n    }\r\n\r\n    signUp(user) {\r\n        return axios.put(`${PATH}/user/sign-up`, user);\r\n    }\r\n\r\n    logout() {\r\n        return axios.get(`${PATH}/user/logout`);\r\n    }\r\n\r\n    getAllVacations() {\r\n        return axios.get(`${PATH}/vacation`);\r\n    }\r\n\r\n    getImage(imgId) {\r\n        return `${PATH}/vacation/vacImg/${imgId}`;\r\n    }\r\n\r\n    sendVacation(vacationData) {\r\n        console.log('sendVacation', vacationData);\r\n        console.log(typeof vacationData.image)\r\n        const vacData = new FormData();\r\n        const config = {'content-type': 'multipart/form-data'}\r\n        if (vacationData.title !== '' || vacationData.description !== '') {\r\n            if (typeof vacationData.image === 'object') {\r\n                console.log('file added')\r\n                vacData.append(\"image\", vacationData.image);\r\n            }\r\n            vacData.append('title', vacationData.title);\r\n            vacData.append('description', vacationData.description);\r\n        }\r\n        return vacationData._id === 0 ?  axios.put(`${PATH}/vacation`, vacData, {headers: config}) : \r\n        axios.patch(`${PATH}/vacation/${vacationData._id}`, vacData, {headers: config});\r\n    }\r\n\r\n    deleteVacation(vacId) {\r\n        return axios.delete(`${PATH}/vacation/${vacId}`);\r\n    }\r\n\r\n    usersWatch(userId) {\r\n        return axios.get(`${PATH}/likes/${userId}`);\r\n    }\r\n\r\n    userWatchFunc(userId, vacId, like) {\r\n        return !!like ? axios.delete(`${PATH}/likes/${like.userId}/${like.vacId}`) : axios.put(`${PATH}/likes/${userId}/${vacId}`);\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app/app';\r\nimport Reducer from './reducer/index';\r\nimport ErrorBoundry from './components/error-boundry/error-boundry';\r\nimport { ProviderVacation } from './service/context';\r\nimport VacationService from './service/service';\r\n\r\nconst vacationService = new VacationService();\r\nconst store = createStore(Reducer);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>\r\n            <ProviderVacation  value={vacationService}>\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </ProviderVacation>\r\n        </ErrorBoundry>\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n"],"sourceRoot":""}