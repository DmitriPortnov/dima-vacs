{"version":3,"sources":["service/context.js","components/hoc/service-hoc.js","actions/userActions.js","actions/errorActions.js","components/login/login.js","components/sign-up/signUp.js","pages/homePage.js","actions/vacation.Action.js","components/navbar/navbar.js","actions/logoutAction.js","components/vacation-card/vacationCard.js","components/vacation-full-page/vacation-full.js","pages/vacationsPage.js","components/vacation-editor/vacationEditor.js","pages/adminPage.js","pages/chartsPage.js","components/app/app.js","reducer/user.js","reducer/vacations.js","reducer/errorHandler.js","reducer/likes.js","reducer/index.js","components/error-indicator/error-indicator.js","components/error-boundry/error-boundry.js","service/service.js","index.js"],"names":["React","createContext","ProviderVacation","Provider","ConsumerVacation","Consumer","ServiceHoc","Wrapped","props","vacationService","service","userData","user","type","payload","gotError","data","Login","state","username","password","this","error","expiredError","hasError","setTimeout","className","id","placeholder","value","onChange","target","setState","onKeyDown","event","key","login","message","onClick","to","loggedIn","then","catch","err","console","Component","connect","dispatch","ownProps","response","SignUp","firstname","lastname","required","registration","signUp","HomePage","isLoggedIn","isAdmin","prevProps","push","history","_id","permition","match","path","getVacations","vacations","Navbar","logout","nullUser","adminButtons","logoutBtn","chooseVacationID","chartBtn","adminBtn","secondFunction","userBtn","like","likes","find","vacId","vacation","VacationCard","imgUrl","src","alt","title","VacationDescription","closeDetailPage","image","description","VacationsPage","showVacationDetails","vacationID","getAllVacations","getImage","getUserLikes","userId","usersWatch","userLikes","i","vacationId","userWatchFunc","log","undefined","img","map","vac","idx","getVacationDetails","usersLikeFunc","vacs","VacationEditor","field","sendVacation","closePage","htmlFor","files","sendVac","vacationDetails","AdminPage","editor","deleteVacation","getVacationDetailsForChange","deleteVac","App","exact","component","ChartsPage","userReducer","action","vacationsReducer","errorReducer","likeReducer","initialState","Reducer","ErrorIndicator","ErrorBoundry","isError","children","PATH","axios","post","put","get","imgId","vacationData","vacData","FormData","config","append","headers","patch","delete","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cdd64898.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst {\r\n    Provider: ProviderVacation,\r\n    Consumer: ConsumerVacation\r\n} = React.createContext();\r\n\r\nexport {\r\n    ProviderVacation,\r\n    ConsumerVacation\r\n}","import React from 'react';\r\nimport { ConsumerVacation } from '../../service/context';\r\n\r\nconst ServiceHoc = () => (Wrapped) => {\r\n    return (props) => {\r\n        return <ConsumerVacation>\r\n            {\r\n                (vacationService) => <Wrapped {...props} service={vacationService} />\r\n            }\r\n        </ConsumerVacation>\r\n    }\r\n}\r\n\r\nexport default ServiceHoc;","export const test = (user) => {\r\n    return {\r\n        type: 'TEST',\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const userData = (user) => {\r\n    return {\r\n        type: 'USER_DATA',\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport const userLikes = (data) => {\r\n    return {\r\n        type: 'GET_LIKES',\r\n        payload: data\r\n    }\r\n}","export const gotError = (data) => {\r\n    return {\r\n        type: 'USER_ERROR',\r\n        payload: data\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './login.css';\r\n\r\nimport { userData } from '../../actions/userActions';\r\nimport { gotError } from '../../actions/errorActions';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { error, expiredError } = this.props;\r\n        if (error.hasError === true) {\r\n            setTimeout(() => expiredError(), 5000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { username, password } = this.state;\r\n        const { error } = this.props;\r\n        return <div className=\"log-template\">\r\n            <h2>Login</h2>\r\n            <div className=\"form\">\r\n                <input type=\"text\" id=\"username\" placeholder=\"username\"\r\n                value={username} onChange={({ target }) => this.setState({username: target.value})} />\r\n                <input type=\"password\" id=\"password\" placeholder=\"password\"\r\n                value={password} onChange={({ target }) => this.setState({password: target.value})} \r\n                onKeyDown={(event) => event.key === 'Enter' ? this.props.login({ username, password }) : null }/>\r\n                { error.hasError ? <p className=\"error-text\">{error.message}</p> : null}\r\n                <button onClick={() => this.props.login({ username, password })}>Submit</button>\r\n                <p>not regestered yet? --> <Link to=\"/sign-up\"><strong>sign up</strong></Link></p>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.service.loggedIn().then(({data}) => this.props.loggedIn(data))\r\n        .catch(err => console.error(err));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { service: {login} } = ownProps;\r\n    return {\r\n        loggedIn: (user) => dispatch(userData(user)),\r\n        login: (user) => login(user).then(({data}) => {\r\n            dispatch(userData(data));\r\n        }).catch(({response: {data}}) => dispatch(gotError({\r\n            hasError: true, \r\n            message: data.message\r\n        }))),\r\n        expiredError: () => dispatch(gotError({\r\n            hasError: false, \r\n            message: ''\r\n        }))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './signUp.css';\r\n\r\nimport { userData } from '../../actions/userActions';\r\nimport { gotError } from '../../actions/errorActions';\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            firstname: '',\r\n            lastname: ''\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { error, expiredError } = this.props;\r\n        if (error.hasError === true) {\r\n            setTimeout(() => expiredError(), 4000);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { error } = this.props;\r\n        const { username, firstname, lastname, password } = this.state;\r\n        return <div className=\"log-template\">\r\n            <h2>Sign Up</h2>\r\n            <div className=\"form\">\r\n                <input type=\"text\" value={firstname} onChange={({target}) => this.setState({firstname: target.value})}\r\n                placeholder=\"firstname\" required></input>\r\n                <input type=\"text\" value={lastname} onChange={({target}) => this.setState({lastname: target.value})}\r\n                placeholder=\"lastname\" required></input>\r\n                <input type=\"text\" value={username} onChange={({target}) => this.setState({username: target.value})}\r\n                placeholder=\"username\" required></input>\r\n                <input type=\"password\" value={password} onChange={({target}) => this.setState({password: target.value})}\r\n                onKeyDown={(event) => event.key === 'Enter' ? this.props.registration(this.state) : null }\r\n                placeholder=\"password\" required></input>\r\n                { error.hasError ? <p className=\"error-text\">{error.message}</p> : null}\r\n                <button onClick={() => this.props.registration(this.state)}>Submit</button>\r\n                <p>back to <Link to=\"/login\">Login</Link></p>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { service: { signUp } } = ownProps;\r\n    return {\r\n        registration: (user) => signUp(user).then(({data}) => dispatch(userData(data)))\r\n        .catch(({response: {data}}) => dispatch(gotError({\r\n            hasError: true, \r\n            message: data.message\r\n        }))),\r\n        expiredError: () => dispatch(gotError({\r\n            hasError: false, \r\n            message: ''\r\n        }))\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Login from '../components/login/login';\r\nimport SignUp from '../components/sign-up/signUp';\r\n\r\nclass HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isLoggedIn: false,\r\n            isAdmin: false\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const { history: { push }} = this.props;\r\n        if (prevProps.user._id !== this.props.user._id || 0) {\r\n            if (this.props.user.permition === 1) {\r\n                return push('/editor')\r\n            } else {\r\n                return push('/vacations')\r\n            }\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"home-page\">\r\n            <h1>see your next vacation!!!</h1>\r\n            { this.props.match.path === '/sign-up' ? <SignUp {...this.props}/> : <Login {...this.props}/> }\r\n        </div>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, null)(HomePage));","export const getVacations = (vacations) => {\r\n    return {\r\n        type: 'GET_ALL_VACATIONS',\r\n        payload: vacations\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './navbar.css';\r\n\r\nimport { logout } from '../../actions/logoutAction';\r\n\r\nclass Navbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isAdmin: false\r\n        }\r\n    }\r\n\r\n    logoutBtn() {\r\n        this.props.service.logout().then(() => {\r\n            this.props.nullUser();\r\n            this.props.history.push('/');\r\n        })\r\n    }\r\n\r\n    chartBtn() {\r\n        this.props.history.push('/charts');\r\n    }\r\n\r\n    render() {\r\n        const { firstname, lastname } = this.props.user;\r\n        return <nav>\r\n            <div className=\"nav-text\">\r\n                <h1>Vacations</h1>\r\n                <span>hello {firstname} {lastname}</span>\r\n            </div>\r\n            <div className=\"nav-buttons\">\r\n                { this.state.isAdmin ? this.adminButtons() : null }\r\n                <button className=\"logout-btn\" onClick={() => this.logoutBtn()}>\r\n                    <i className=\"material-icons\">power_settings_new</i>\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    }\r\n\r\n    adminButtons() {\r\n        return <Fragment>\r\n            <button className=\"add-btn\" onClick={() => this.props.chooseVacationID()}>\r\n                <i className=\"material-icons\">add</i>\r\n            </button>\r\n            <button className=\"charts-btn\" onClick={() => this.chartBtn()}>\r\n                <i className=\"material-icons\">bar_chart</i>\r\n            </button>\r\n        </Fragment>\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.user.permition >= 1) {\r\n            this.setState({\r\n                isAdmin: true\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        nullUser: () => dispatch(logout())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);","export const logout = () => {\r\n    return {\r\n        type: 'RESET_STATE'\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport './vacationCard.css';\r\n\r\nconst VacationCard = (props) => {\r\n    const { vacation, permition, imgUrl } = props;\r\n    return <div className=\"card\">\r\n        <img src={imgUrl} alt=\"vacation_pic\"/>\r\n        <div className=\"card-title\">\r\n        <span>{ vacation.title }</span>\r\n        </div>\r\n        <div className=\"card-btn\">\r\n            { permition === 1 ? adminBtn(props) : userBtn(props) }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst adminBtn = (props) => {\r\n    return <Fragment>\r\n        <button onClick={() => props.chooseVacationID()}>\r\n            <i className=\"material-icons\">edit</i>\r\n        </button>\r\n        <button className=\"like-btn\" onClick={() => props.secondFunction()}>\r\n            <i className=\"material-icons\">delete</i>\r\n        </button>\r\n    </Fragment>\r\n}\r\n\r\nconst userBtn = (props) => {\r\n    const like = props.likes.find(({vacId}) => vacId === props.vacation._id);\r\n    return <Fragment>\r\n        <button onClick={() => props.chooseVacationID()}>\r\n            <i className=\"material-icons\">info</i>\r\n        </button>\r\n        <button className={!!like ? \"like-btn liked\": \"like-btn\"} onClick={() => props.secondFunction()}>\r\n            <i className=\"material-icons\">favorite_border</i>\r\n        </button>\r\n    </Fragment>\r\n}\r\n\r\nexport default VacationCard;","import React from 'react';\r\nimport './vacation-full.css';\r\n\r\nconst VacationDescription = (props) => {\r\n    const { vacation, closeDetailPage, imgUrl } = props;\r\n    return <div className=\"vacation-full-page\" onClick={() => closeDetailPage()}>\r\n        <div className=\"vacation-description\">\r\n            <div className=\"title-fullPage\">\r\n                <p>{ vacation.title }</p>\r\n                <button onClick={() => closeDetailPage()}>\r\n                    <i className=\"material-icons\">close</i>\r\n                </button>\r\n            </div>\r\n            <img src={imgUrl(vacation.image)} alt=\"vacation_pic\"/>\r\n            <div className=\"full-description\">\r\n                <p>{ vacation.description }</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default VacationDescription;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { userLikes } from '../actions/userActions';\r\nimport { getVacations } from '../actions/vacation.Action';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Navbar from '../components/navbar/navbar';\r\nimport VacationCard from '../components/vacation-card/vacationCard';\r\nimport VacationDescription from '../components/vacation-full-page/vacation-full';\r\n\r\nclass VacationsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showVacationDetails: false,\r\n            vacationID: ''\r\n        }\r\n    }\r\n\r\n    getAllVacations() {\r\n        const { service: {getAllVacations, getImage}, getVacations } = this.props;\r\n        getAllVacations().then(({data}) => {getVacations(data)})\r\n        .catch((err) => console.error(err));\r\n        this.getUserLikes(this.props.user._id);\r\n    }\r\n\r\n    getUserLikes(userId) {\r\n        this.props.service.usersWatch(userId).then(({data}) => {\r\n            this.props.userLikes(data);\r\n        });\r\n    }\r\n\r\n    getVacationDetails(i) {\r\n        this.setState({\r\n            showVacationDetails: true,\r\n            vacationID: i\r\n        });\r\n    }\r\n\r\n    closeDetailPage() {\r\n        this.setState({\r\n            showVacationDetails: false\r\n        });\r\n    }\r\n\r\n    usersLikeFunc(vacationId) {\r\n        const { user, likes, service: { userWatchFunc } } = this.props;\r\n        const like = likes.find(({vacId}) => vacationId === vacId);\r\n        userWatchFunc(user._id, vacationId, like).then(() => this.getUserLikes(user._id))\r\n        .catch((err) => console.log('likes error', err));\r\n    }\r\n\r\n    render() {\r\n        const { vacations, user: {permition}, likes, service: { getImage } } = this.props;\r\n        const { showVacationDetails, vacationID } = this.state;\r\n        if (vacations === null | undefined) {\r\n            return null;\r\n        }\r\n        return <div className=\"vacations-page\">\r\n            {showVacationDetails ? <VacationDescription vacation={vacations[vacationID]}\r\n            imgUrl={(img) => getImage(img)}\r\n            closeDetailPage={() => this.closeDetailPage()}/> : null}\r\n            <Navbar {...this.props}/>\r\n            <div className=\"vacations\">\r\n                {vacations.map((vac, idx) => <VacationCard vacation={vac} key={idx} permition={permition}\r\n                likes={likes}\r\n                imgUrl={getImage(vac.image)}\r\n                chooseVacationID={() => this.getVacationDetails(idx)}\r\n                secondFunction={() => this.usersLikeFunc(vac._id)}/>)}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllVacations();\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getVacations: (vacs) => dispatch(getVacations(vacs)),\r\n        userLikes: (likes) => dispatch(userLikes(likes))\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, mapDispatchToProps)(VacationsPage));","import React, { Component } from 'react';\r\nimport './vacationEditor.css';\r\n\r\nclass VacationEditor extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            _id: 0,\r\n            title: '',\r\n            description: '',\r\n            image: ''\r\n        }\r\n    }\r\n\r\n    onChange(field, value) {\r\n        this.setState({\r\n            [field]: value\r\n        });\r\n    }\r\n\r\n    sendVac() {\r\n        this.props.service.sendVacation(this.state).then(() => {\r\n            this.props.closePage();\r\n        }).catch((err) => console.error(err));\r\n    }\r\n\r\n    render() {\r\n        const { title, description } = this.state;\r\n        return <div className=\"editor-page\">\r\n            <h2>vacation editor</h2>\r\n            <div className=\"vacation-editor\">\r\n                <input type=\"text\" placeholder=\"Title\" value={title} onChange={({target}) => this.onChange('title', target.value) }/>\r\n                <textarea placeholder=\"Description\" value={description} onChange={({target}) => this.onChange('description', target.value) }></textarea>\r\n                <label className=\"editor-file\" htmlFor=\"file-upload\">Choose your file</label>\r\n                <input id=\"file-upload\" type=\"file\" onChange={({target}) => this.onChange('image', target.files[0]) }></input>\r\n                <div className=\"btns\">\r\n                    <button className=\"submit-btn\" onClick={() => this.sendVac()}>submit</button>\r\n                    <button className=\"close-btn\" onClick={() => this.props.closePage()}>close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.vacationDetails === null) {\r\n            return null\r\n        }\r\n        const {_id, title, description, image} = this.props.vacationDetails;\r\n        this.setState({\r\n            _id,\r\n            title,\r\n            description,\r\n            image\r\n        });\r\n    }\r\n}\r\n\r\nexport default VacationEditor;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getVacations } from '../actions/vacation.Action';\r\nimport './pages-styles/pageStyle.css';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\nimport Navbar from '../components/navbar/navbar';\r\nimport VacationEditor from '../components/vacation-editor/vacationEditor';\r\nimport VacationCard from '../components/vacation-card/vacationCard';\r\n\r\nclass AdminPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            vacationID: 0,\r\n            editor: false\r\n        }\r\n    }\r\n\r\n    getAllVacations() {\r\n        const { service: {getAllVacations}, getVacations } = this.props;\r\n        getAllVacations().then(({data}) => getVacations(data))\r\n        .catch((err) => console.error(err));\r\n    }\r\n\r\n    getVacationDetailsForChange() {\r\n        const { vacations } = this.props;\r\n        const { vacationID } = this.state;\r\n        return vacationID ? vacations[vacationID] : null;\r\n    }\r\n\r\n    getVacationDetails(i=null) {\r\n        this.setState({\r\n            editor: true,\r\n            vacationID: i,\r\n        });\r\n    }\r\n\r\n    closePage() {\r\n        this.getAllVacations();\r\n        this.setState({\r\n            editor: false\r\n        });\r\n    }\r\n\r\n    deleteVac(i) {\r\n        const id = this.props.vacations[i]._id;\r\n        this.props.service.deleteVacation(id).then(() => {\r\n            this.getAllVacations();\r\n        }).catch((err) => console.error(err));\r\n    }\r\n\r\n    render() {\r\n        const { user: {permition}, likes, vacations, service } = this.props;\r\n        const {editor} = this.state;\r\n        return <div className=\"admin-page\">\r\n            {editor ? <VacationEditor service={service} closePage={() => this.closePage()} vacationDetails={this.getVacationDetailsForChange()}/> : null}\r\n            <Navbar {...this.props} chooseVacationID={() => this.getVacationDetails()}/>\r\n            <div className=\"vacations\">\r\n                {vacations.map((vac, idx) => <VacationCard vacation={vac} key={idx} permition={permition}\r\n                likes={likes} imgUrl={service.getImage(vac.image)}\r\n                chooseVacationID={() => this.getVacationDetails(idx)}\r\n                secondFunction={() => this.deleteVac(idx)}/>)}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAllVacations();\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return state;\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        getVacations: (vacs) => dispatch(getVacations(vacs))\r\n    }\r\n}\r\n\r\nexport default ServiceHoc()(connect(mapStateToProps, mapDispatchToProps)(AdminPage));","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ServiceHoc from '../components/hoc/service-hoc';\r\n\r\nconst ChartsPage = (props) => {\r\n\r\n    return <div>\r\n        this page are not available right now\r\n    </div>\r\n}\r\n\r\nexport default ServiceHoc()(connect()(ChartsPage));","import React from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport './app.css';\r\n\r\nimport HomePage from '../../pages/homePage';\r\nimport VacationsPage from '../../pages/vacationsPage';\r\nimport AdminPage from '../../pages/adminPage';\r\nimport ChartsPage from '../../pages/chartsPage';\r\n \r\nconst App = () => {\r\n    \r\n    return <div className=\"main\">\r\n        <Switch>\r\n            <Route path='/' exact>\r\n                <Redirect to='/login'/>\r\n            </Route>\r\n            <Route path='/login' component={HomePage} />\r\n            <Route path='/sign-up' component={HomePage} />\r\n            <Route path='/vacations' component={VacationsPage}></Route>\r\n            <Route path='/editor' component={AdminPage}></Route>\r\n            <Route path='/charts' component={ChartsPage}></Route>\r\n        </Switch>\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default App;","const userReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'TEST':\r\n            return action.payload;\r\n        case 'USER_DATA':\r\n            return action.payload;\r\n        default:\r\n            return state.user;\r\n    }\r\n}\r\n\r\nexport default userReducer;","const vacationsReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'GET_ALL_VACATIONS':\r\n            return action.payload;\r\n        default:\r\n            return state.vacations;\r\n    }\r\n}\r\n\r\nexport default vacationsReducer;","const errorReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'USER_ERROR':\r\n            return action.payload;\r\n        default:\r\n            return state.error\r\n    }\r\n}\r\n\r\nexport default errorReducer;","const likeReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"GET_LIKES\":\r\n            return action.payload;\r\n        default:\r\n            return state.likes;\r\n    }\r\n}\r\n\r\nexport default likeReducer;","import userReducer from './user';\r\nimport vacationsReducer from './vacations';\r\nimport errorReducer from './errorHandler';\r\nimport likeReducer from './likes';\r\n\r\nconst initialState = {\r\n    user: {\r\n        _id: 0,\r\n        username: '',\r\n        firstname: 'guest',\r\n        lastname: '',\r\n        permition: 0\r\n    },\r\n    vacations: [\r\n        {\r\n            _id: 0,\r\n            title: '',\r\n            description: '',\r\n            image: ''\r\n        }\r\n    ],\r\n    error: {\r\n        hasError: false,\r\n        message: ''\r\n    },\r\n    likes: []\r\n}\r\n\r\nconst Reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'RESET_STATE':\r\n            return initialState\r\n        default:\r\n            return {\r\n                user: userReducer(state, action),\r\n                vacations: vacationsReducer(state, action),\r\n                error: errorReducer(state, action),\r\n                likes: likeReducer(state, action)\r\n            }\r\n    }\r\n}\r\n\r\nexport default Reducer;","import React from 'react';\r\n\r\nconst ErrorIndicator = () => {\r\n    return <div>\r\n        <h1>Error</h1>\r\n    </div>\r\n}\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator/error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isError: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return this.state.isError ? <ErrorIndicator/> : this.props.children;\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst PATH = 'https://dima-vacs.herokuapp.com';\r\n\r\nexport default class VacationService {\r\n    loggedIn() {\r\n        return axios.post(`${PATH}/user/loggedIn`);\r\n    }\r\n    \r\n    login(user) {\r\n        return axios.post(`${PATH}/user/login`, user);\r\n    }\r\n\r\n    signUp(user) {\r\n        return axios.put(`${PATH}/user/sign-up`, user);\r\n    }\r\n\r\n    logout() {\r\n        return axios.get(`${PATH}/user/logout`);\r\n    }\r\n\r\n    getAllVacations() {\r\n        return axios.get(`${PATH}/vacation`);\r\n    }\r\n\r\n    getImage(imgId) {\r\n        return `${PATH}/vacation/vacImg/${imgId}`;\r\n    }\r\n\r\n    sendVacation(vacationData) {\r\n        console.log('sendVacation', vacationData);\r\n        console.log(typeof vacationData.image)\r\n        const vacData = new FormData();\r\n        const config = {'content-type': 'multipart/form-data'}\r\n        if (vacationData.title !== '' || vacationData.description !== '') {\r\n            if (typeof vacationData.image === 'object') {\r\n                console.log('file added')\r\n                vacData.append(\"image\", vacationData.image);\r\n            }\r\n            vacData.append('title', vacationData.title);\r\n            vacData.append('description', vacationData.description);\r\n        }\r\n        return vacationData._id === 0 ?  axios.put(`${PATH}/vacation`, vacData, {headers: config}) : \r\n        axios.patch(`${PATH}/vacation/${vacationData._id}`, vacData, {headers: config});\r\n    }\r\n\r\n    deleteVacation(vacId) {\r\n        return axios.delete(`${PATH}/vacation/${vacId}`);\r\n    }\r\n\r\n    usersWatch(userId) {\r\n        return axios.get(`${PATH}/likes/${userId}`);\r\n    }\r\n\r\n    userWatchFunc(userId, vacId, like) {\r\n        return !!like ? axios.delete(`${PATH}/likes/${like.userId}/${like.vacId}`) : axios.put(`${PATH}/likes/${userId}/${vacId}`);\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app/app';\r\nimport Reducer from './reducer/index';\r\nimport ErrorBoundry from './components/error-boundry/error-boundry';\r\nimport { ProviderVacation } from './service/context';\r\nimport VacationService from './service/service';\r\n\r\nconst vacationService = new VacationService();\r\nconst store = createStore(Reducer);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>\r\n            <ProviderVacation  value={vacationService}>\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </ProviderVacation>\r\n        </ErrorBoundry>\r\n    </Provider>\r\n    , document.getElementById('root'));\r\n"],"sourceRoot":""}